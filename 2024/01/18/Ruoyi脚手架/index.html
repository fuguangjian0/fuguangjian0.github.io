

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="fgj">
  <meta name="keywords" content="">
  
    <meta name="description" content="一、如何学习1.1、 项目阶段目标 本项目的重点是熟悉企业真实项目的开发流程，对实际项目开发有一个较为深刻的理解 掌握项目中的一些重要的框架&#x2F;第三方工具，比如SpringBoot，MyBatis，vue2，ElementUi等技术的使用 锻炼自主思考能力，需求分析能力，解决bug的能力  1.2、 项目学习方法 学习和理解项目中的相关业务流程，学会自己去阅读文档，进行需求分析，画图，并使">
<meta property="og:type" content="article">
<meta property="og:title" content="Ruoyi脚手架">
<meta property="og:url" content="http://example.com/2024/01/18/Ruoyi%E8%84%9A%E6%89%8B%E6%9E%B6/index.html">
<meta property="og:site_name" content="FGJ">
<meta property="og:description" content="一、如何学习1.1、 项目阶段目标 本项目的重点是熟悉企业真实项目的开发流程，对实际项目开发有一个较为深刻的理解 掌握项目中的一些重要的框架&#x2F;第三方工具，比如SpringBoot，MyBatis，vue2，ElementUi等技术的使用 锻炼自主思考能力，需求分析能力，解决bug的能力  1.2、 项目学习方法 学习和理解项目中的相关业务流程，学会自己去阅读文档，进行需求分析，画图，并使">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007124706542.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007124822828.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20231020143006869.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240103223435726.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112132241.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112243980.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112353580.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112518667.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112557727.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112656484.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117143622177.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240103224611538.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240105102842871.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118143255228.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118143435509.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144414094.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144200644.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144304000.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144319685.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144333129.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145155299.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145252391.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145305173.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145317443.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145811501.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145942558.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145951722.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118151555166.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118151711996.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118151744118.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240116211947089.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117153024850.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117153045682.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117153111618.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117153139033.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240116224420846.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007205918535.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007210141263.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007210736978.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117155900971.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007233843261.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007233917561.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007233934627.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007234010482.png">
<meta property="og:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007234032045.png">
<meta property="article:published_time" content="2024-01-18T03:28:43.000Z">
<meta property="article:modified_time" content="2024-01-18T03:31:13.944Z">
<meta property="article:author" content="fgj">
<meta property="article:tag" content="若依">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007124706542.png">
  
  
  
  <title>Ruoyi脚手架 - FGJ</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Home</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://fgj3.oss-cn-beijing.aliyuncs.com/ddd.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Ruoyi脚手架"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-01-18 11:28" pubdate>
          2024年1月18日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          23k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          192 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Ruoyi脚手架</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="一、如何学习"><a href="#一、如何学习" class="headerlink" title="一、如何学习"></a>一、如何学习</h1><h2 id="1-1、-项目阶段目标"><a href="#1-1、-项目阶段目标" class="headerlink" title="1.1、 项目阶段目标"></a>1.1、 项目阶段目标</h2><ol>
<li>本项目的重点是熟悉企业真实项目的开发流程，对实际项目开发有一个较为深刻的理解</li>
<li>掌握项目中的一些重要的框架&#x2F;第三方工具，比如SpringBoot，MyBatis，vue2，ElementUi等技术的使用</li>
<li>锻炼<code>自主思考</code>能力，<code>需求分析</code>能力，<code>解决bug</code>的能力</li>
</ol>
<h2 id="1-2、-项目学习方法"><a href="#1-2、-项目学习方法" class="headerlink" title="1.2、 项目学习方法"></a>1.2、 项目学习方法</h2><ol>
<li><p>学习和理解项目中的相关业务流程，学会自己去<code>阅读文档</code>，进行需求分析，<code>画图</code>，并使用代码实现需求</p>
</li>
<li><p>在学习的时候，不要纠结于细节的代码实现，要从更大的范围去理解一个项目&#x2F;产品的设计和开发过程</p>
</li>
</ol>
<h2 id="1-3、-做作业的方法"><a href="#1-3、-做作业的方法" class="headerlink" title="1.3、 做作业的方法"></a>1.3、 做作业的方法</h2><ol>
<li>上课做笔记&#x2F;截图，粗略版本，下课后补充完整，上课若有不理解的先记录问题，下课必须解决</li>
<li>必须做到的是，写代码的时候要先自己思考和梳理， <code>需求</code>是什么? 实现<code>步骤</code>是什么? 如何通过代码来实现功能?写代码前必须思考，并在文档中列出来 </li>
<li>如果没有思路， 就打开需求文档&#x2F;上课笔记&#x2F;课件&#x2F;截图&#x2F;回顾和理解 , 如果实在理解不了才去看视频 , 理解后把资料的窗口关闭 , 自己重新思考如何实现 , 直到自己能把步骤梳理出来，再开始写代码 </li>
<li>遇到问题，先自己解决 &gt; 不行找百度查询 &gt; 再不行找同学&#x2F;老师帮助，千万不要养成依赖别人的习惯，这样以后工作了是很难独立生存的</li>
<li>当天的作业第一遍做完后，写第二遍，第二遍的目标是独立完成，当天写不完那就自习或休息天时再继续写，自习或休息天还要把总结补上</li>
<li>如果有的同学，作业实在是做得太晚，第一遍都做不完，给讲师或班主任发个微信，申请延交作业，并说明什么原因导致，需要在自习把进度赶上来，如果连续3次都延迟，说明问题较严重，要主动找老师沟通</li>
</ol>
<h1 id="二、技术选型"><a href="#二、技术选型" class="headerlink" title="二、技术选型"></a>二、技术选型</h1><h2 id="2-1、脚手架"><a href="#2-1、脚手架" class="headerlink" title="2.1、脚手架"></a>2.1、脚手架</h2><p>脚手架是为了<code>保证各施工过程顺利进行而搭设的工作平台</code>。按搭设的位置分为外脚手架、里脚手架；按材料不同可分为木脚手架、竹脚手架、钢管脚手架；按构造形式分为立杆式脚手架、桥式脚手架、门式脚手架、悬吊式脚手架、挂式脚手架、挑式脚手架、爬式脚手架。</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007124706542.png" srcset="/img/loading.gif" lazyload alt="image-20211007124706542"></p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007124822828.png" srcset="/img/loading.gif" lazyload alt="image-20211007124822828"></p>
<p><strong>那么编程界的脚手架又是啥</strong></p>
<p><strong>这里是stackoverflow上的一个回答</strong>：</p>
<p>Scaffolding is a meta-programming method of building database-backed software applications. It is a technique supported by some model-view-controller frameworks, in which the programmer may write a specification that describes how the application database may be used. The compiler uses this specification to generate code that the application can use to create, read, update and delete database entries, effectively treating the template as a “scaffold” on which to build a more powerful application.</p>
<p>“脚手架”是一种元编程的方法，用于构建基于数据库的应用。许多MVC框架都有运用这种思想。<strong>程序员编写一份specification（规格说明书），来描述怎样去使用数据库；而由（脚手架的）编译器来根据这份specification生成相应的代码，进行增、删、改、查数据库的操作</strong>。我们把这种模式称为”脚手架”，在脚手架上面去更高效的建造出强大的应用！	-站在巨人的肩膀上</p>
<p><strong>大白话的讲</strong>：在项目最开始的时候，脚手架工具已经准备好一份代码，里面包含通用的基础功能，比如用户登录，权限控制，菜单管理，系统管理等，程序员只需要在这基础上进行业务开发。</p>
<p>项目一我们就是在脚手架(car_o2o)的基础上进行需求开发</p>
<h2 id="2-2、技术选型"><a href="#2-2、技术选型" class="headerlink" title="2.2、技术选型"></a>2.2、技术选型</h2><p>在项目开发前，需要对技术方案先做方向性的评估。在投资有限、硬件资源有限的条件下，为了满足需求，需要进行技术方案选型、技术点使用范围进行分析。也就是需要选择哪种类型脚手架(包含哪些技术的脚手架)</p>
<p><strong>常见的技术选型度量点：</strong></p>
<p>（1）<strong>快速开发</strong></p>
<p>（2）<strong>学习成本低</strong></p>
<p>（3）<strong>技术成熟度</strong></p>
<p>（4）稳定性</p>
<p>（5）性能</p>
<p><strong>当前项目技术选型:</strong></p>
<p>主框架：Spring Boot +Spring Framework + SpringSecurity</p>
<p>持久层：Apache MyBatis +Hibernate Validation +Alibaba Druid</p>
<p>视图层：Vue + ElementUi</p>
<p>其他： Activiti7 +POI+ Redis</p>
<h1 id="三、RuoYi介绍"><a href="#三、RuoYi介绍" class="headerlink" title="三、RuoYi介绍"></a>三、RuoYi介绍</h1><p>若依框架，官网：<a target="_blank" rel="noopener" href="http://www.ruoyi.vip/">http://www.ruoyi.vip/</a></p>
<p>源码:<a target="_blank" rel="noopener" href="https://gitee.com/y_project/RuoYi-Vue">https://gitee.com/y_project/RuoYi-Vue</a></p>
<p>文档:<a target="_blank" rel="noopener" href="https://doc.ruoyi.vip/ruoyi-vue/">https://doc.ruoyi.vip/ruoyi-vue/</a></p>
<p>当前我们的学习目标是能快速掌握RuoYi脚手架快速上手。</p>
<h2 id="3-1、模块介绍"><a href="#3-1、模块介绍" class="headerlink" title="3.1、模块介绍"></a>3.1、模块介绍</h2><p>RuoYi脚手架大体分为5个模块：首页，系统管理，系统监控，系统工具，RuoYi 官网 ，个人中心</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20231020143006869.png" srcset="/img/loading.gif" lazyload alt="image-20231020143006869"></p>
<p><strong>系统管理</strong>：管理系统各项配置</p>
<p>​	核心模块：用户管理，角色管理，菜单管理，部门管理，岗位管理，字典管理，参数设置，通知公告</p>
<p><strong>系统监控</strong>：系统运行过程中数据监控</p>
<p>​	核心模块：数据监控，服务监控，日志监控，缓存监控，在线用户，缓存列表</p>
<p><strong>系统工具</strong>：代码生成器</p>
<p>​	核心模块：表单构建，代码生成，系统接口</p>
<p><strong>RuoYi 官网</strong>：跳转到官网</p>
<p><strong>个人中心</strong>：个人偏好设置</p>
<p>​	核心模块：个人中心，切换主题，切换菜单</p>
<h2 id="3-2、项目启动"><a href="#3-2、项目启动" class="headerlink" title="3.2、项目启动"></a>3.2、项目启动</h2><p>操作步骤：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs tex">1》 从官网把 RuoYi 项目下载下载<br><br>2》 通过 idea 导入到进去<br><br>3》 创建数据库 ry-vue，把sql 文件拖拽进去<br><br>4》 修改application-druid.yml 连接四要素信息<br><br>5》启动ruoyi-admin 中的启动类RuoYiAppliacation<br><br>6》启动前端项目<br><br>   6.1》进入到 ruoyi-ui 的目录中执行 npm install 安装依赖<br><br>   6.2》 执行 npm  run dev 启动前端项目<br></code></pre></td></tr></table></figure>



<h2 id="3-3、常见-Maven-问题"><a href="#3-3、常见-Maven-问题" class="headerlink" title="3.3、常见 Maven 问题"></a>3.3、常见 Maven 问题</h2><p>进入到公司第一天就如刚才操作一样，把项目下载到本地然后导入到 idea 进行启动， 但是在导入的过程中最常见的一个问题就是 maven 的问题，也是最容易把大家搞崩溃的问题。</p>
<p>情况 1： 公司有私服依赖下载不下来<br>解决：和同事要一份 settings.xml 文件把本地覆盖掉</p>
<img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240103223435726.png" srcset="/img/loading.gif" lazyload alt="image-20240103223435726" style="zoom: 50%;" />

<p>情况 2：网络原因依赖下载一半，自己手动取消了，在进行下载下载不了<br>解决：找到本地仓库所在位置删除然后在刷新</p>
<p>情况 3：idea无法识别出来项目是一个 maven 项目结构<br>解决： 双加 shift -&gt; 搜索maven -&gt; 找到 add maven project-&gt; 选中项目的 pom 文件</p>
<h2 id="3-4、熟悉代码"><a href="#3-4、熟悉代码" class="headerlink" title="3.4、熟悉代码"></a>3.4、熟悉代码</h2><p>在学习项目的过程中我们不仅仅要学会分析需求写代码， 也要学会看代码，<strong>学会把别人的代码看懂然后转换成自己的代码</strong>。</p>
<h3 id="3-4-1、代码结构"><a href="#3-4-1、代码结构" class="headerlink" title="3.4.1、代码结构"></a>3.4.1、代码结构</h3><p>Ruoyi-admin:  web 模块存放 controller</p>
<img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112132241.png" srcset="/img/loading.gif" lazyload width="300px" height="300px"/>

<p>Ruoyi—common: 公共模块存放工具类</p>
<img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112243980.png" srcset="/img/loading.gif" lazyload width="300px" height="300px"/>



<p>Ruoyi-framework：框架模块存放一些第三方框架代码和配置</p>
<img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112353580.png" srcset="/img/loading.gif" lazyload width="300px" height="300px"/>

<p>Ruoyi-generator: 代码生成器模块</p>
<img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112518667.png" srcset="/img/loading.gif" lazyload width="300px" height="300px"/>



<p>Ruoyi-quartz: 定时任务模块	(任务调度)</p>
<img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112557727.png" srcset="/img/loading.gif" lazyload width="300px" height="300px"/>

<p>Ruoyi-system：系统模块存放 	domain，mapper，service	</p>
<img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117112656484.png" srcset="/img/loading.gif" lazyload width="300px" height="300px"/>

<p>Ruoyi-ui：前端项目</p>
<p><strong>思考两个个问题</strong></p>
<ul>
<li>好好一个项目为什么要拆碎？–组件&#x2F;模块化开发</li>
<li>为什么拆碎了能合起来？–pom.xml</li>
</ul>
<p>先从pom.xml文件中了解不同组件关系</p>
<pre><code class=" mermaid">graph
framework --&gt; admin
quartz--&gt; admin
generator--&gt; admin
system--&gt; framework
common--&gt;generator
common --&gt;system
</code></pre>



<p>ruoYi-admin -pom：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 核心模块--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-framework<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 定时任务--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-quartz<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 代码生成--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-generator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>ruoYi-framework-pom:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 系统模块--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-system<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>Ruoyi-generator-pom:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 通用工具--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>Ruoyi-system-pom:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 通用工具--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p> 所以我们得出结论，虽然是分模块开发的， 但是最终他通过 pom 文件把这些模块的代码都聚集在了 ruoyi-admin中</p>
</blockquote>
<pre><code class=" mermaid">graph
framework --&gt; admin
quartz--&gt; admin
generator--&gt; admin
system--&gt; framework
common--&gt;generator
common --&gt;system
</code></pre>





<h3 id="3-4-2、熟悉表结构"><a href="#3-4-2、熟悉表结构" class="headerlink" title="3.4.2、熟悉表结构"></a>3.4.2、熟悉表结构</h3><p>打开数据库，观察到表一共有 19 张表，我们不需要搞清楚每一个字段都是干什么的那样工作量太大了也没有必要， 我们只需要大概知道每一张表对应着是存什么数据就可以了。</p>
<p>表介绍图：</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117143622177.png" srcset="/img/loading.gif" lazyload alt="image-20221117143622177"></p>
<h3 id="3-4-3、熟悉项目配置"><a href="#3-4-3、熟悉项目配置" class="headerlink" title="3.4.3、熟悉项目配置"></a>3.4.3、熟悉项目配置</h3><p>整个项目配置文件都在 ruoyi-admin 的 resources 中</p>
<img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240103224611538.png" srcset="/img/loading.gif" lazyload alt="image-20240103224611538" style="zoom:50%;" />

<p>resources:</p>
<ul>
<li><p>i18 n            -》 处理<strong>国际化</strong> -  本项目没有做国际化</p>
</li>
<li><p>META-INF  -》 此文件包含有关 JAR 内容的元数据 （不需要管）</p>
</li>
<li><p>mybatis       -》 存放 <strong>mybatis 配置</strong>信息</p>
</li>
<li><p>application.yml              -》存放项目的所有配置信息</p>
</li>
<li><p>Application-druid.yml  -》 存放数据库连接信息</p>
</li>
<li><p>banner.txt                        -》 存放启动时候的 baner 图标信息</p>
</li>
<li><p>Logback.xml                    -》 存放项目中的日志配置信息</p>
</li>
</ul>
<h3 id="3-4-4、熟悉返回值"><a href="#3-4-4、熟悉返回值" class="headerlink" title="3.4.4、熟悉返回值"></a>3.4.4、熟悉返回值</h3><p>​	我们本次RuoYi脚手架使用的是<strong>前后端分离</strong>的版本，后端接口依旧是返回 <strong>json</strong> 格式数据， 但是他这里和我们之前RBAC的返回是有一些区别，他一共有 3 种返回值，<strong>TableDataInfo</strong>(分页列表)、<strong>void</strong>(导出&#x2F;下载)、<strong>AjaxResult</strong>(基本添加&#x2F;编辑&#x2F;单个查询&#x2F;删除)。	 —-&gt;	   <strong>json</strong></p>
<p>TableDataInfo： <strong>分页查询</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TableDataInfo</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;<br><br>    <span class="hljs-comment">/** 总记录数 */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> total;<br><br>    <span class="hljs-comment">/** 列表数据 records */</span><br>    <span class="hljs-keyword">private</span> List&lt;?&gt; rows;<br><br>    <span class="hljs-comment">/** 消息状态码 200 404 ... */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> code;<br><br>    <span class="hljs-comment">/** 消息内容  XXX */</span><br>    <span class="hljs-keyword">private</span> String msg;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 表格数据对象</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TableDataInfo</span><span class="hljs-params">()</span>&#123;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 分页</span><br><span class="hljs-comment">     * </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> list 列表数据</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> total 总记录数</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TableDataInfo</span><span class="hljs-params">(List&lt;?&gt; list, <span class="hljs-type">int</span> total)</span>&#123;<br>        <span class="hljs-built_in">this</span>.rows = list;<br>        <span class="hljs-built_in">this</span>.total = total;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>AjaxResult: <code>基本的CRUD</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AjaxResult</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HashMap</span>&lt;String, Object&gt;<br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;<br><br>    <span class="hljs-comment">/** 状态码 200 404 ... */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CODE_TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;code&quot;</span>;<br><br>    <span class="hljs-comment">/** 返回内容 XXX */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">MSG_TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;msg&quot;</span>;<br><br>    <span class="hljs-comment">/** 数据对象  */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DATA_TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;data&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="四、岗位CRUD"><a href="#四、岗位CRUD" class="headerlink" title="四、岗位CRUD"></a>四、岗位CRUD</h1><p>由于篇幅所限，不对系统做全貌介绍，这里挑选几个核心模块详细介绍，其他模块同理可得。</p>
<p><strong>思考一个问题：怎么解读一个项目业务模块？</strong></p>
<p><strong>业务前提</strong>：知道它在做什么—岗位crud</p>
<p><strong>技术前提</strong>：前端vue–基本操作必须会   后端ssm–必须会</p>
<p><strong>开发技巧</strong>： 前端会F12，后端会debug </p>
<p><strong>常规项目特点</strong>：管理类项目特点–先页面，后接口；经典厂字形布局</p>
<p>web项目组件解读技巧：</p>
<p><strong>主线</strong>：发起请求—接收请求—-处理请求—-响应请求</p>
<p>详细展开：</p>
<p>1&gt;客户端怎么发起请求(关注：请求url&#x2F;请求方式&#x2F;请求头&#x2F;请求参数)</p>
<p>2&gt;接口接收请求(关注：接口定义&#x2F;参数接收&#x2F;参数封装&#x2F;参数校验&#x2F;)</p>
<p>3&gt;接口处理请求(关注：业务逻辑实现)</p>
<p>4&gt;接口响应请求(关注：响应数据类型&#x2F;数据格式&#x2F;响应头)</p>
<p><strong>强调：走流程时，一定要结合所掌握的技术合理推演。</strong></p>
<p><strong>案例：岗位CRUD</strong></p>
<p>请求发起</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240105102842871.png" srcset="/img/loading.gif" lazyload alt="image-20240105102842871"></p>
<h2 id="4-1、岗位列表"><a href="#4-1、岗位列表" class="headerlink" title="4.1、岗位列表"></a>4.1、岗位列表</h2><p>页面显示效果：</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118143255228.png" srcset="/img/loading.gif" lazyload alt="image-20221118143255228"></p>
<p>请求路径：<a target="_blank" rel="noopener" href="http://localhost:1024/dev-api/system/post/list?pageNum=1&pageSize=10">http://localhost:1024/dev-api/system/post/list?pageNum=1&amp;pageSize=10</a></p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118143435509.png" srcset="/img/loading.gif" lazyload alt="image-20221118143435509"></p>
<p>请求参数：</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144414094.png" srcset="/img/loading.gif" lazyload alt="image-20221118144414094"></p>
<p>返回值：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;total&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">5</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;rows&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;searchValue&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;admin&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2022-11-17 10:58:15&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;remark&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;params&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postId&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postCode&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;ceo&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postName&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;董事长&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postSort&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;1&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;0&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;flag&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;searchValue&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;admin&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2022-11-17 10:58:15&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;remark&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;params&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postId&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postCode&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;se&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postName&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;项目经理&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postSort&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;0&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;flag&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;searchValue&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;admin&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2022-11-17 10:58:15&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;remark&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;params&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postId&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">3</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postCode&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;hr&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postName&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;人力资源&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postSort&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;3&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;0&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;flag&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;searchValue&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;admin&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2022-11-17 10:58:15&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;remark&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;params&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postId&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">4</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postCode&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;user&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postName&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;普通员工&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postSort&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;4&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;0&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;flag&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;searchValue&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;admin&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;createTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2022-11-18 14:42:38&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateBy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;updateTime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;remark&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;123&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;params&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postId&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">5</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postCode&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;123&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postName&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;123&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;postSort&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;0&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;0&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;flag&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">200</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;msg&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;查询成功&quot;</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>

<p>结合之前学的springmvc框架路径分析：</p>
<p>1：system&#x2F;post是映射路径前缀，一般设置下controller中</p>
<p>2：路径中post可以推测是岗位的意思，进而猜测controller名字是： SysPostController</p>
<p>3：list猜测是后端映射方法路径</p>
<p>围绕这个思路取找到PostController里面的listPage映射方法</p>
<p>cn&#x2F;wolfcode&#x2F;car&#x2F;base&#x2F;web&#x2F;controller&#x2F;system&#x2F;SysPostController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 岗位控制器</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;system/post&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PostController</span> &#123;<br>    <br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 获取岗位列表</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@PreAuthorize(&quot;@ss.hasPermi(&#x27;system:post:list&#x27;)&quot;)</span><br>    <span class="hljs-meta">@GetMapping(&quot;/list&quot;)</span><br>    <span class="hljs-keyword">public</span> TableDataInfo <span class="hljs-title function_">list</span><span class="hljs-params">(SysPost post)</span><br>    &#123;<br>        startPage();<br>        List&lt;SysPost&gt; list = postService.selectPostList(post);<br>        <span class="hljs-keyword">return</span> getDataTable(list);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>startPage():</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startPage</span><span class="hljs-params">()</span><br>  &#123;<br>      <span class="hljs-type">PageDomain</span> <span class="hljs-variable">pageDomain</span> <span class="hljs-operator">=</span> TableSupport.buildPageRequest();<br>      <span class="hljs-type">Integer</span> <span class="hljs-variable">pageNum</span> <span class="hljs-operator">=</span> pageDomain.getPageNum();<br>      <span class="hljs-type">Integer</span> <span class="hljs-variable">pageSize</span> <span class="hljs-operator">=</span> pageDomain.getPageSize();<br>      <span class="hljs-type">String</span> <span class="hljs-variable">orderBy</span> <span class="hljs-operator">=</span> SqlUtil.escapeOrderBySql(pageDomain.getOrderBy());<br>      <span class="hljs-type">Boolean</span> <span class="hljs-variable">reasonable</span> <span class="hljs-operator">=</span> pageDomain.getReasonable();<br>      PageHelper.startPage(pageNum, pageSize, orderBy).setReasonable(reasonable);<br>  &#125;<br></code></pre></td></tr></table></figure>

<p>实现思路：</p>
<p>1：调用 startPage()，把当前页和每页显示数据设置到 PageHelper 当中</p>
<p>2：调用 postService查询分页数据</p>
<p>3：把查询数据封装到奥 TableDataInfo 中</p>
<h2 id="4-2、岗位新增"><a href="#4-2、岗位新增" class="headerlink" title="4.2、岗位新增"></a>4.2、岗位新增</h2><p>点击新增按钮弹出模块框</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144200644.png" srcset="/img/loading.gif" lazyload alt="image-20221118144200644"></p>
<p>点击确定发送请求：<a target="_blank" rel="noopener" href="http://localhost:1024/dev-api/system/post">http://localhost:1024/dev-api/system/post</a></p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144304000.png" srcset="/img/loading.gif" lazyload alt="image-20221118144304000"></p>
<p>请求参数：</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144319685.png" srcset="/img/loading.gif" lazyload alt="image-20221118144319685"></p>
<p>返回值：</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118144333129.png" srcset="/img/loading.gif" lazyload alt="image-20221118144333129"></p>
<p>后台代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 新增岗位</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@PreAuthorize(&quot;@ss.hasPermi(&#x27;system:post:add&#x27;)&quot;)</span><br><span class="hljs-meta">@Log(title = &quot;岗位管理&quot;, businessType = BusinessType.INSERT)</span><br><span class="hljs-meta">@PostMapping</span><br><span class="hljs-keyword">public</span> AjaxResult <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-meta">@Validated</span> <span class="hljs-meta">@RequestBody</span> SysPost post)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (UserConstants.NOT_UNIQUE.equals(postService.checkPostNameUnique(post)))<br>    &#123;<br>        <span class="hljs-keyword">return</span> AjaxResult.error(<span class="hljs-string">&quot;新增岗位&#x27;&quot;</span> + post.getPostName() + <span class="hljs-string">&quot;&#x27;失败，岗位名称已存在&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (UserConstants.NOT_UNIQUE.equals(postService.checkPostCodeUnique(post)))<br>    &#123;<br>        <span class="hljs-keyword">return</span> AjaxResult.error(<span class="hljs-string">&quot;新增岗位&#x27;&quot;</span> + post.getPostName() + <span class="hljs-string">&quot;&#x27;失败，岗位编码已存在&quot;</span>);<br>    &#125;<br>    post.setCreateBy(getUsername());<br>    <span class="hljs-keyword">return</span> toAjax(postService.insertPost(post));<br>&#125;<br></code></pre></td></tr></table></figure>

<p>实现思路：</p>
<p>1：检测一下数据库中是否存在这个岗位了</p>
<p>2：检验岗位编码是否唯一</p>
<p>3： 保存数据到 MySql 中然后返回</p>
<h2 id="4-3、岗位修改"><a href="#4-3、岗位修改" class="headerlink" title="4.3、岗位修改"></a>4.3、岗位修改</h2><p>点击修改弹出模块框</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145155299.png" srcset="/img/loading.gif" lazyload alt="image-20221118145155299"></p>
<p>点击确定发送请求：<a target="_blank" rel="noopener" href="http://localhost:1024/dev-api/system/post">http://localhost:1024/dev-api/system/post</a></p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145252391.png" srcset="/img/loading.gif" lazyload alt="image-20221118145252391"></p>
<p>请求参数：</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145305173.png" srcset="/img/loading.gif" lazyload alt="image-20221118145305173"></p>
<p>返回值：</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145317443.png" srcset="/img/loading.gif" lazyload alt="image-20221118145317443"></p>
<p>后台代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 修改岗位</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@PreAuthorize(&quot;@ss.hasPermi(&#x27;system:post:edit&#x27;)&quot;)</span><br><span class="hljs-meta">@Log(title = &quot;岗位管理&quot;, businessType = BusinessType.UPDATE)</span><br><span class="hljs-meta">@PutMapping</span><br><span class="hljs-keyword">public</span> AjaxResult <span class="hljs-title function_">edit</span><span class="hljs-params">(<span class="hljs-meta">@Validated</span> <span class="hljs-meta">@RequestBody</span> SysPost post)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (UserConstants.NOT_UNIQUE.equals(postService.checkPostNameUnique(post)))<br>    &#123;<br>        <span class="hljs-keyword">return</span> AjaxResult.error(<span class="hljs-string">&quot;修改岗位&#x27;&quot;</span> + post.getPostName() + <span class="hljs-string">&quot;&#x27;失败，岗位名称已存在&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (UserConstants.NOT_UNIQUE.equals(postService.checkPostCodeUnique(post)))<br>    &#123;<br>        <span class="hljs-keyword">return</span> AjaxResult.error(<span class="hljs-string">&quot;修改岗位&#x27;&quot;</span> + post.getPostName() + <span class="hljs-string">&quot;&#x27;失败，岗位编码已存在&quot;</span>);<br>    &#125;<br>    post.setUpdateBy(getUsername());<br>    <span class="hljs-keyword">return</span> toAjax(postService.updatePost(post));<br>&#125;<br></code></pre></td></tr></table></figure>

<p>实现思路：</p>
<p>1：安全性校验</p>
<p>2：修改数据</p>
<h2 id="4-4、岗位删除"><a href="#4-4、岗位删除" class="headerlink" title="4.4、岗位删除"></a>4.4、岗位删除</h2><p>点击删除弹出确定框</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145811501.png" srcset="/img/loading.gif" lazyload alt="image-20221118145811501"></p>
<p>点击确定发送请求：<a target="_blank" rel="noopener" href="http://localhost:1024/dev-api/system/post/5">http://localhost:1024/dev-api/system/post/5</a></p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145942558.png" srcset="/img/loading.gif" lazyload alt="image-20221118145942558"></p>
<p>请求参数： id</p>
<p>请求返回值:</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118145951722.png" srcset="/img/loading.gif" lazyload alt="image-20221118145951722"></p>
<p>后台代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 删除岗位</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@PreAuthorize(&quot;@ss.hasPermi(&#x27;system:post:remove&#x27;)&quot;)</span><br><span class="hljs-meta">@Log(title = &quot;岗位管理&quot;, businessType = BusinessType.DELETE)</span><br><span class="hljs-meta">@DeleteMapping(&quot;/&#123;postIds&#125;&quot;)</span><br><span class="hljs-keyword">public</span> AjaxResult <span class="hljs-title function_">remove</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long[] postIds)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> toAjax(postService.deletePostByIds(postIds));<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="4-5、Excel-导出功能"><a href="#4-5、Excel-导出功能" class="headerlink" title="4.5、Excel 导出功能"></a>4.5、Excel 导出功能</h2><p>前台点击按钮直接把数据库中的数据以 excel 导出到本地</p>
<p>后台代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Log(title = &quot;岗位管理&quot;, businessType = BusinessType.EXPORT)</span><br><span class="hljs-meta">@PreAuthorize(&quot;@ss.hasPermi(&#x27;system:post:export&#x27;)&quot;)</span><br><span class="hljs-meta">@PostMapping(&quot;/export&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">export</span><span class="hljs-params">(HttpServletResponse response, SysPost post)</span><br>&#123;<br>    List&lt;SysPost&gt; list = postService.selectPostList(post);<br>    ExcelUtil&lt;SysPost&gt; util = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExcelUtil</span>&lt;SysPost&gt;(SysPost.class);<br>    util.exportExcel(response, list, <span class="hljs-string">&quot;岗位数据&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>实体类上需要贴注解：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SysPost</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseEntity</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;<br><br>    <span class="hljs-comment">/** 岗位序号 */</span><br>    <span class="hljs-meta">@Excel(name = &quot;岗位序号&quot;, cellType = ColumnType.NUMERIC)</span><br>    <span class="hljs-keyword">private</span> Long postId;<br><br>    <span class="hljs-comment">/** 岗位编码 */</span><br>    <span class="hljs-meta">@Excel(name = &quot;岗位编码&quot;)</span><br>    <span class="hljs-keyword">private</span> String postCode;<br><br>    <span class="hljs-comment">/** 岗位名称 */</span><br>    <span class="hljs-meta">@Excel(name = &quot;岗位名称&quot;)</span><br>    <span class="hljs-keyword">private</span> String postName;<br><br>    <span class="hljs-comment">/** 岗位排序 */</span><br>    <span class="hljs-meta">@Excel(name = &quot;岗位排序&quot;)</span><br>    <span class="hljs-keyword">private</span> String postSort;<br><br>    <span class="hljs-comment">/** 状态（0正常 1停用） */</span><br>    <span class="hljs-meta">@Excel(name = &quot;状态&quot;, readConverterExp = &quot;0=正常,1=停用&quot;)</span><br>    <span class="hljs-keyword">private</span> String status;<br> &#125;<br></code></pre></td></tr></table></figure>

<h1 id="五、客户CRUD"><a href="#五、客户CRUD" class="headerlink" title="五、客户CRUD"></a>五、客户CRUD</h1><p>现在已经看懂了岗位的工程， 那么我们可以参考别人的代码去完成我们自己的代码。</p>
<h2 id="5-1、使用mybatis-generator-实现"><a href="#5-1、使用mybatis-generator-实现" class="headerlink" title="5.1、使用mybatis-generator 实现"></a>5.1、使用mybatis-generator 实现</h2><p>1：建表-customer</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `customer` (<br>  `id` <span class="hljs-type">bigint</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="hljs-string">&#x27;id&#x27;</span>,<br>  `name` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;名称&#x27;</span>,<br>  `phone` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;手机号&#x27;</span>,<br>  `age` <span class="hljs-type">int</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;年龄&#x27;</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)<br>) ENGINE<span class="hljs-operator">=</span>InnoDB  <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8 COMMENT<span class="hljs-operator">=</span><span class="hljs-string">&#x27;客户表&#x27;</span>;<br><br><span class="hljs-keyword">SET</span> FOREIGN_KEY_CHECKS <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure>

<p>2：拷贝配置文件generatorConfig.xml 到 ruoyi-system中</p>
<p>​	在 pom 文件中加入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- MyBatis 的 generator 插件--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.generator<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">verbose</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">verbose</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">overwrite</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">overwrite</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.45<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>3：使用插件生成 domain，mapper，xml 文件 </p>
<p>4：添加 selectForList() 方法</p>
<p>5： 拷贝 岗位的 service 和 impl 实现类 和 controller，修改成</p>
<p>6：拷贝前端界面到对应界面中</p>
<p>7：创建客户的菜单</p>
<h2 id="5-2：使用代码生成器生成"><a href="#5-2：使用代码生成器生成" class="headerlink" title="5.2：使用代码生成器生成"></a>5.2：使用代码生成器生成</h2><p>系统工具》代码生成器-》导入</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118151555166.png" srcset="/img/loading.gif" lazyload alt="image-20221118151555166"></p>
<p>在界面中选中我们自己创建的 Customer 表</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118151711996.png" srcset="/img/loading.gif" lazyload alt="image-20221118151711996"></p>
<p>点击确定以后修改生成信息</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221118151744118.png" srcset="/img/loading.gif" lazyload alt="image-20221118151744118"></p>
<p>修改完以后点击生成，domain，mapper，service，impl，controller，界面就一键都生成好了。</p>
<img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240116211947089.png" srcset="/img/loading.gif" lazyload alt="image-20240116211947089" style="zoom:50%;" />

<h1 id="六、数据字典"><a href="#六、数据字典" class="headerlink" title="六、数据字典"></a>六、数据字典</h1><p><strong>背景</strong>：我们在项目中会有很多的下拉框,这些下拉框都有一个特点,就是键值对的存在.<br>实现下拉框方式：</p>
<ul>
<li>界面写死-》 有硬编码问题</li>
<li>给下拉框创建张表-》 要创建很多张表</li>
<li>使用数据字典实现</li>
</ul>
<h2 id="6-1、概念"><a href="#6-1、概念" class="headerlink" title="6.1、概念"></a>6.1、概念</h2><p><strong>数据字典（data dictionary）</strong>是对于数据模型中的数据对象或者项目的描述的集合，这样做有利于程序员和其他需要参考的人。分析一个用户交换的对象系统的第一步就是去辨别每一个对象，以及它与其他对象之间的关系。这个过程称为数据建模，结果产生一个对象关系图。当每个数据对象和项目都给出了一个描述性的名字之后，它的关系再进行描述（或者是成为潜在描述关系的结构中的一部分），然后再描述数据的类型（例如文本还是图像，或者是二进制数值），列出所有可能预先定义的数值，以及提供简单的文字性描述。这个集合被组织成书的形式用来参考，就叫做数据字典。</p>
<p><strong>大白话</strong>：一种数据组织形式，方便使用者维护数据，管理数据。</p>
<h2 id="6-2、数据字典表"><a href="#6-2、数据字典表" class="headerlink" title="6.2、数据字典表"></a>6.2、数据字典表</h2><p>脚手架中的数据字典组成数据结构由2张表共同维护</p>
<p>sys_dict_type: 字典类型表</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117153024850.png" srcset="/img/loading.gif" lazyload alt="image-20221117153024850"></p>
<p>表数据：</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117153045682.png" srcset="/img/loading.gif" lazyload alt="image-20221117153045682"></p>
<p>sys_dict_data: 字典明细表</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117153111618.png" srcset="/img/loading.gif" lazyload alt="image-20221117153111618"></p>
<p>表数据：</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117153139033.png" srcset="/img/loading.gif" lazyload alt="image-20221117153139033"></p>
<h2 id="6-3、字典界面"><a href="#6-3、字典界面" class="headerlink" title="6.3、字典界面"></a>6.3、字典界面</h2><p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20240116224420846.png" srcset="/img/loading.gif" lazyload alt="image-20240116224420846"></p>
<p>数据字典列表</p>
<p>系统管理》字典管理</p>
<p><strong><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007205918535.png" srcset="/img/loading.gif" lazyload alt="image-20211007205918535"></strong></p>
<p>列表的数据是数据类型表：DictTypeController 中listPage方法</p>
<p>点击操作中的列表，新开一个页签，进入到字典数据列表：DictDataController 中listPage方法</p>
<p><strong><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007210141263.png" srcset="/img/loading.gif" lazyload alt="image-20211007210141263"></strong></p>
<h2 id="6-4、页面使用"><a href="#6-4、页面使用" class="headerlink" title="6.4、页面使用"></a>6.4、页面使用</h2><p>数据字典具体使用主要集中在页面的下拉框控件中，比如：</p>
<p>系统管理》岗位管理</p>
<p><strong><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007210736978.png" srcset="/img/loading.gif" lazyload alt="image-20211007210736978"></strong></p>
<p>浏览器发送请求</p>
<p><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20221117155900971.png" srcset="/img/loading.gif" lazyload alt="image-20221117155900971"></p>
<p>在SysDicDataController 中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 根据字典类型查询字典数据信息</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@GetMapping(value = &quot;/type/&#123;dictType&#125;&quot;)</span><br><span class="hljs-keyword">public</span> AjaxResult <span class="hljs-title function_">dictType</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> String dictType)</span><br>&#123;<br>    List&lt;SysDictData&gt; data = dictTypeService.selectDictDataByType(dictType);<br>    <span class="hljs-keyword">if</span> (StringUtils.isNull(data))<br>    &#123;<br>        data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;SysDictData&gt;();<br>    &#125;<br>    <span class="hljs-keyword">return</span> AjaxResult.success(data);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>在 SysDictDataMapper.xml中</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectDictDataByType&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;SysDictData&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;SysDictDataResult&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;selectDictDataVo&quot;</span>/&gt;</span><br>   where status = &#x27;0&#x27; and dict_type = #&#123;dictType&#125; order by dict_sort asc<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h1 id="七、认证和授权"><a href="#七、认证和授权" class="headerlink" title="七、认证和授权"></a>七、认证和授权</h1><p>认证和授权采用是 SpringSecurity进行操作， 基本和我们之前在 RBAC中集成的操作是差不多的，这里也是带大家去观察 RuoYi 是如何写代码的。</p>
<h2 id="7-1、认证"><a href="#7-1、认证" class="headerlink" title="7.1、认证"></a>7.1、认证</h2><p>1、导入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- spring security 安全认证 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>2、SecurityConfig配置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">WebSecurityConfigurerAdapter</span><br>&#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 自定义用户认证逻辑</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserDetailsService userDetailsService;<br>    <br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 认证失败处理类</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> AuthenticationEntryPointImpl unauthorizedHandler;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 退出处理类</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> LogoutSuccessHandlerImpl logoutSuccessHandler;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * token认证过滤器</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> JwtAuthenticationTokenFilter authenticationTokenFilter;<br>    <br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 跨域过滤器</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> CorsFilter corsFilter;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 允许匿名访问的地址</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> PermitAllUrlProperties permitAllUrl;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 解决 无法直接注入 AuthenticationManager</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> AuthenticationManager <span class="hljs-title function_">authenticationManagerBean</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.authenticationManagerBean();<br>    &#125;<br><br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">configure</span><span class="hljs-params">(HttpSecurity httpSecurity)</span> <span class="hljs-keyword">throws</span> Exception<br>    &#123;<br>        <span class="hljs-comment">// 注解标记允许匿名访问的url</span><br>        ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.<span class="hljs-type">ExpressionInterceptUrlRegistry</span> <span class="hljs-variable">registry</span> <span class="hljs-operator">=</span> httpSecurity.authorizeRequests();<br>        permitAllUrl.getUrls().forEach(url -&gt; registry.antMatchers(url).permitAll());<br><br>        httpSecurity<br>                <span class="hljs-comment">// CSRF禁用，因为不使用session</span><br>                .csrf().disable()<br>                <span class="hljs-comment">// 认证失败处理类</span><br>                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()<br>                <span class="hljs-comment">// 基于token，所以不需要session</span><br>                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()<br>                <span class="hljs-comment">// 过滤请求</span><br>                .authorizeRequests()<br>                <span class="hljs-comment">// 对于登录login 注册register 验证码captchaImage 允许匿名访问</span><br>                .antMatchers(<span class="hljs-string">&quot;/login&quot;</span>, <span class="hljs-string">&quot;/register&quot;</span>, <span class="hljs-string">&quot;/captchaImage&quot;</span>).anonymous()<br>                <span class="hljs-comment">// 静态资源，可匿名访问</span><br>                .antMatchers(HttpMethod.GET, <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-string">&quot;/*.html&quot;</span>, <span class="hljs-string">&quot;/**/*.html&quot;</span>, <span class="hljs-string">&quot;/**/*.css&quot;</span>, <span class="hljs-string">&quot;/**/*.js&quot;</span>, <span class="hljs-string">&quot;/profile/**&quot;</span>).permitAll()<br>                .antMatchers(<span class="hljs-string">&quot;/swagger-ui.html&quot;</span>, <span class="hljs-string">&quot;/swagger-resources/**&quot;</span>, <span class="hljs-string">&quot;/webjars/**&quot;</span>, <span class="hljs-string">&quot;/*/api-docs&quot;</span>, <span class="hljs-string">&quot;/druid/**&quot;</span>).permitAll()<br>                <span class="hljs-comment">// 除上面外的所有请求全部需要鉴权认证</span><br>                .anyRequest().authenticated()<br>                .and()<br>                .headers().frameOptions().disable();<br>        <span class="hljs-comment">// 添加Logout filter</span><br>        httpSecurity.logout().logoutUrl(<span class="hljs-string">&quot;/logout&quot;</span>).logoutSuccessHandler(logoutSuccessHandler);<br>        <span class="hljs-comment">// 添加JWT filter</span><br>        httpSecurity.addFilterBefore(authenticationTokenFilter, UsernamePasswordAuthenticationFilter.class);<br>        <span class="hljs-comment">// 添加CORS filter</span><br>        httpSecurity.addFilterBefore(corsFilter, JwtAuthenticationTokenFilter.class);<br>        httpSecurity.addFilterBefore(corsFilter, LogoutFilter.class);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 强散列哈希加密实现</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> BCryptPasswordEncoder <span class="hljs-title function_">bCryptPasswordEncoder</span><span class="hljs-params">()</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BCryptPasswordEncoder</span>();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 身份认证接口</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">configure</span><span class="hljs-params">(AuthenticationManagerBuilder auth)</span> <span class="hljs-keyword">throws</span> Exception<br>    &#123;<br>        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>3、SysLoginService</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">login</span><span class="hljs-params">(String username, String password, String code, String uuid)</span><br>&#123;<br>    <span class="hljs-type">boolean</span> <span class="hljs-variable">captchaOnOff</span> <span class="hljs-operator">=</span> configService.selectCaptchaOnOff();<br>    <span class="hljs-comment">// 验证码开关</span><br>    <span class="hljs-keyword">if</span> (captchaOnOff)<br>    &#123;<br>        validateCaptcha(username, code, uuid);<br>    &#125;<br>    <span class="hljs-comment">// 用户验证</span><br>    <span class="hljs-type">Authentication</span> <span class="hljs-variable">authentication</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">try</span><br>    &#123;<br>        <span class="hljs-comment">// 该方法会去调用UserDetailsServiceImpl.loadUserByUsername</span><br>        authentication = authenticationManager<br>                .authenticate(<span class="hljs-keyword">new</span> <span class="hljs-title class_">UsernamePasswordAuthenticationToken</span>(username, password));<br>    &#125;<br>    <span class="hljs-keyword">catch</span> (Exception e)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> BadCredentialsException)<br>        &#123;<br>            AsyncManager.me().execute(AsyncFactory.recordLogininfor(username, Constants.LOGIN_FAIL, MessageUtils.message(<span class="hljs-string">&quot;user.password.not.match&quot;</span>)));<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserPasswordNotMatchException</span>();<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            AsyncManager.me().execute(AsyncFactory.recordLogininfor(username, Constants.LOGIN_FAIL, e.getMessage()));<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceException</span>(e.getMessage());<br>        &#125;<br>    &#125;<br>    AsyncManager.me().execute(AsyncFactory.recordLogininfor(username, Constants.LOGIN_SUCCESS, MessageUtils.message(<span class="hljs-string">&quot;user.login.success&quot;</span>)));<br>    <span class="hljs-type">LoginUser</span> <span class="hljs-variable">loginUser</span> <span class="hljs-operator">=</span> (LoginUser) authentication.getPrincipal();<br>    recordLoginInfo(loginUser.getUserId());<br>    <span class="hljs-comment">// 生成token</span><br>    <span class="hljs-keyword">return</span> tokenService.createToken(loginUser);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>4、JwtAuthenticationTokenFilter</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JwtAuthenticationTokenFilter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">OncePerRequestFilter</span><br>&#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> TokenService tokenService;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilterInternal</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, FilterChain chain)</span><br>            <span class="hljs-keyword">throws</span> ServletException, IOException<br>    &#123;<br>        <span class="hljs-type">LoginUser</span> <span class="hljs-variable">loginUser</span> <span class="hljs-operator">=</span> tokenService.getLoginUser(request);<br>        <span class="hljs-keyword">if</span> (StringUtils.isNotNull(loginUser) &amp;&amp; StringUtils.isNull(SecurityUtils.getAuthentication()))<br>        &#123;<br>            tokenService.verifyToken(loginUser);<br>            <span class="hljs-type">UsernamePasswordAuthenticationToken</span> <span class="hljs-variable">authenticationToken</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UsernamePasswordAuthenticationToken</span>(loginUser, <span class="hljs-literal">null</span>, loginUser.getAuthorities());<br>            authenticationToken.setDetails(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebAuthenticationDetailsSource</span>().buildDetails(request));<br>            SecurityContextHolder.getContext().setAuthentication(authenticationToken);<br>        &#125;<br>        chain.doFilter(request, response);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>5、自定义UserDetailsService</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDetailsServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDetailsService</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(UserDetailsServiceImpl.class);<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> ISysUserService userService;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> SysPermissionService permissionService;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> UserDetails <span class="hljs-title function_">loadUserByUsername</span><span class="hljs-params">(String username)</span> <span class="hljs-keyword">throws</span> UsernameNotFoundException<br>    &#123;<br>        <span class="hljs-type">SysUser</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userService.selectUserByUserName(username);<br>        <span class="hljs-keyword">if</span> (StringUtils.isNull(user))<br>        &#123;<br>            log.info(<span class="hljs-string">&quot;登录用户：&#123;&#125; 不存在.&quot;</span>, username);<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceException</span>(<span class="hljs-string">&quot;登录用户：&quot;</span> + username + <span class="hljs-string">&quot; 不存在&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (UserStatus.DELETED.getCode().equals(user.getDelFlag()))<br>        &#123;<br>            log.info(<span class="hljs-string">&quot;登录用户：&#123;&#125; 已被删除.&quot;</span>, username);<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceException</span>(<span class="hljs-string">&quot;对不起，您的账号：&quot;</span> + username + <span class="hljs-string">&quot; 已被删除&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (UserStatus.DISABLE.getCode().equals(user.getStatus()))<br>        &#123;<br>            log.info(<span class="hljs-string">&quot;登录用户：&#123;&#125; 已被停用.&quot;</span>, username);<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceException</span>(<span class="hljs-string">&quot;对不起，您的账号：&quot;</span> + username + <span class="hljs-string">&quot; 已停用&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> createLoginUser(user);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> UserDetails <span class="hljs-title function_">createLoginUser</span><span class="hljs-params">(SysUser user)</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginUser</span>(user.getUserId(), user.getDeptId(), user, permissionService.getMenuPermission(user));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="7-2、授权"><a href="#7-2、授权" class="headerlink" title="7.2、授权"></a>7.2、授权</h2><p>1、 开启注解支持</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-meta">@EnableGlobalMethodSecurity</span>(prePostEnabled = <span class="hljs-literal">true</span>, securedEnabled = <span class="hljs-literal">true</span>)<br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebSecurityConfigurerAdapter</span></span><br>&#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2、方法上贴注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PreAuthorize(&quot;@ss.hasPermi(&#x27;system:dict:query&#x27;)&quot;)</span><br><span class="hljs-meta">@GetMapping(value = &quot;/&#123;dictCode&#125;&quot;)</span><br><span class="hljs-keyword">public</span> AjaxResult <span class="hljs-title function_">getInfo</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long dictCode)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> AjaxResult.success(dictDataService.selectDictDataById(dictCode));<br>&#125;<br></code></pre></td></tr></table></figure>

<p>3、PermissionService</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * RuoYi首创 自定义权限实现，ss取自SpringSecurity首字母</span><br><span class="hljs-comment"> * </span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> ruoyi</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Service(&quot;ss&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PermissionService</span>&#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 验证用户是否具备某权限</span><br><span class="hljs-comment">     * </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> permission 权限字符串</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> 用户是否具备某权限</span><br><span class="hljs-comment">     */</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasPermi</span><span class="hljs-params">(String permission)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (StringUtils.isEmpty(permission))<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-type">LoginUser</span> <span class="hljs-variable">loginUser</span> <span class="hljs-operator">=</span> SecurityUtils.getLoginUser();<br>    <span class="hljs-keyword">if</span> (StringUtils.isNull(loginUser) || CollectionUtils.isEmpty(loginUser.getPermissions()))<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> hasPermissions(loginUser.getPermissions(), permission);<br>&#125;<br><br> <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 判断是否包含权限</span><br><span class="hljs-comment">     * </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> permissions 权限列表</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> permission 权限字符串</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> 用户是否具备某权限</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasPermissions</span><span class="hljs-params">(Set&lt;String&gt; permissions, String permission)</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> permissions.contains(ALL_PERMISSION) || permissions.contains(StringUtils.trim(permission));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="八、其他"><a href="#八、其他" class="headerlink" title="八、其他"></a>八、其他</h1><h2 id="8-1、个人中心"><a href="#8-1、个人中心" class="headerlink" title="8.1、个人中心"></a>8.1、个人中心</h2><p><strong><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007233843261.png" srcset="/img/loading.gif" lazyload alt="image-20211007233843261"></strong></p>
<h2 id="8-2、切换主题"><a href="#8-2、切换主题" class="headerlink" title="8.2、切换主题"></a>8.2、切换主题</h2><p><strong><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007233917561.png" srcset="/img/loading.gif" lazyload alt="image-20211007233917561"></strong></p>
<p><strong><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007233934627.png" srcset="/img/loading.gif" lazyload alt="image-20211007233934627"></strong></p>
<h2 id="8-3、切换菜单"><a href="#8-3、切换菜单" class="headerlink" title="8.3、切换菜单"></a>8.3、切换菜单</h2><p><strong><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007234010482.png" srcset="/img/loading.gif" lazyload alt="image-20211007234010482"></strong></p>
<p><strong><img src="https://fgj3.oss-cn-beijing.aliyuncs.com/image-20211007234032045.png" srcset="/img/loading.gif" lazyload alt="image-20211007234032045"></strong></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%A1%86%E6%9E%B6/" class="category-chain-item">框架</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E8%8B%A5%E4%BE%9D/" class="print-no-link">#若依</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Ruoyi脚手架</div>
      <div>http://example.com/2024/01/18/Ruoyi脚手架/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>fgj</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年1月18日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/01/19/%E4%BD%8E%E4%BB%A3%E7%A0%81%E5%B9%B3%E5%8F%B0-%E8%8B%A5%E4%BE%9D/" title="低代码平台-若依">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">低代码平台-若依</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/01/13/%E7%A7%91%E7%9B%AE%E4%BA%8C/" title="科目二">
                        <span class="hidden-mobile">科目二</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":173,"height":346},"mobile":{"show":true},"log":false});</script></body>
</html>
